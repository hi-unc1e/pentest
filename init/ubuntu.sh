#!/bin/bash

sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.json <<-'EOF'
{
  "registry-mirrors": [
      "https://06b922119d80105a0f3cc0068b2e35a0.mirror.swr.myhuaweicloud.com/",
      "https://tbn9th28.mirror.aliyuncs.com",
      "https://ustc-edu-cn.mirror.aliyuncs.com/",
      "https://docker.mirrors.ustc.edu.cn",
      "https://hub-mirror.c.163.com/"
  ]
}
EOF


sudo service docker restart
sudo systemctl daemon-reload
sudo systemctl restart docker
docker info


# python3
wget https://mirrors.huaweicloud.com/python/3.9.19/Python-3.9.19.tgz -O "/tmp/Python-3.9.19.tgz"
tar -zxf /tmp/Python-3.9.19.tgz
cd Python-3.9.19

# 检查依赖
sudo ./configure --enable-optimizations

sudo make
# 或者 - 指定使用的处理器核心数
sudo make -j 4

# 安装二进制文件
sudo make altinstall

# Switch active Python
# 切换活动的 Python
sudo update-alternatives --config python3
